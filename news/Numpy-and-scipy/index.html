<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Getting AnyBody and Numpy to work - AnyScript Community</title>
<meta name="description" content="In this post we will explore why it is hard to use the NumPy and Scipy packages from AnyBody.">


  <meta name="author" content="Morten Enemark Lund">


<meta property="og:type" content="article">
<meta property="og:locale" content="en">
<meta property="og:site_name" content="AnyScript Community">
<meta property="og:title" content="Getting AnyBody and Numpy to work">
<meta property="og:url" content="https://anyscript.org/news/Numpy-and-scipy/">


  <meta property="og:description" content="In this post we will explore why it is hard to use the NumPy and Scipy packages from AnyBody.">



  <meta property="og:image" content="https://anyscript.org/assets/images/posts/ammr2_teaser.png">





  <meta property="article:published_time" content="2017-11-25T00:00:00+01:00">






<link rel="canonical" href="https://anyscript.org/news/Numpy-and-scipy/">





  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://anyscript.org",
      "logo": "https://anyscript.org/assets/images/og_image.jpg"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "AnyBody Technology",
      "url": "https://anyscript.org",
      "sameAs": {"linkedin":"https://www.linkedin.com/company/anybody-technology-a-s","github":"https://github.com/anybody","youtube":"https://www.youtube.com/user/anybodytech","facebook":"https://www.facebook.com/groups/AnyBodyGroup/"}
    }
  </script>



  <meta name="google-site-verification" content="Gads1dEJfrM11RlSRBUKWHHjKWkf_JfNOC1Deq7LaF0" />





<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="AnyScript Community Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/icons/favicon-16x16.png">
<link rel="manifest" href="/assets/images/icons/manifest.json">
<link rel="mask-icon" href="/assets/images/icons/safari-pinned-tab.svg" color="#b91d47">
<link rel="shortcut icon" href="/assets/images/icons/favicon.ico">
<meta name="msapplication-config" content="/assets/images/icons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">



<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW"/>




<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/anyscript_logo.svg" alt=""></a>
        
        <a class="site-title" href="/">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/getting-started/" >Quick-Start guide</a>
            </li><li class="masthead__menu-item">
              <a href="/all-posts/" >Blog posts</a>
            </li><li class="masthead__menu-item">
              <a href="http://forum.anyscript.org/" >Forum</a>
            </li><li class="masthead__menu-item">
              <a href="https://anyscript.org/tutorials/" >AnyBody Tutorials</a>
            </li><li class="masthead__menu-item">
              <a href="https://anyscript.org/ammr-doc/" >AMMR Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/AnyBody/support/wiki" >AnyScript Wiki</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/AnyBody/" >Repositories</a>
            </li><li class="masthead__menu-item">
              <a href="https://www.youtube.com/user/anybodytech" >Youtube channel <i class="fab fa-youtube" aria-hidden="true"></i></a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    
    
    <div id="watermark">
<p>Draft Draft Draft<br/>Draft Draft Draft Draft<br/>Draft Draft Draft Draft Draft</p>
    </div>
    
    

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/people/mel.jpg" alt="Morten Enemark Lund" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Morten Enemark Lund</h3>
    
    
      <p class="author__bio" itemprop="description">
        R&D Engineer at AnyBody Technology.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Aalborg, Denmark</span>
        </li>
      

      

      

      

      
        <li>
          <a href="https://keybase.io/mortenlund" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fas fa-fw fa-key" aria-hidden="true"></i> Keybase
          </a>
        </li>
      

      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/biomedical" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/melund" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Getting AnyBody and Numpy to work">
    <meta itemprop="description" content="In this post we will explore why it is hard to use the NumPy and Scipy packages from AnyBody.">
    <meta itemprop="datePublished" content="November 25, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Getting AnyBody and Numpy to work
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>With the release of the AnyBody Modeling System 7.1 update, we thought it was
time to make a post about all the improvements in the new model repository.</p>

<p>The AnyBody Managed Model Repository (AMMR) version 2.0 marks the culmination of
a huge task to update our existing models and adding new models and examples.</p>

<figure>
  
<img src="https://anyscript.org/assets/images/posts/tutorials_new_tutorial.png" alt="New tutorials website" />

  <figcaption>The new tutorials</figcaption>
</figure>

<h2 id="new-ammr-documentation">New AMMR documentation</h2>

<h2 id="future-work">Future work</h2>

<p>Of course we are not done. There are new model developments in the pipeline, and some of the improvements to the structure of the lower extremity model we would also like to do for the upper body.</p>

<h2 id="a-little-history">A little history</h2>

<p>The tutorials used to live as compiled HTML (CHM), a binary format for a
documentation system called Microsoft HTML Help. You find this kind of help
resources in many older Windows Programmers.</p>

<figure>
  
<img src="https://anyscript.org/assets/images/posts/tutorials_old_tutorial.png" alt="Old tutorials hosted as Microsoft HTML help" />

  <figcaption>The old Tutorials served through Microsoft HTML help</figcaption>
</figure>

<p>Today it may look old fashioned, but it was the best choice for distributing
documentation in 2003 when the first version of AnyBody emerged.</p>

<p>Microsoft has since discontinued the HTML Help system. Today there are much
better options for software documentation which makes it easier to both use the
tutorials and maintain them.</p>

<h2 id="sphinx-for-software-documentation">Sphinx for software documentation</h2>

<p><a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> is a tool for generating software
documentation. The Python community originally developed it for creating the
documentation for the Python programming language. Today it is widely used in
many different domains. The Linux community recently (2016) chose Sphinx as the
new documentation system for the Linux kernel. Sphinx is well maintained and
actively developed, and very easy to use.</p>

<p>Sphinx converts reStructuredText files into HTML, pdf, epub or other formats.
reStructuredText is simply plain text files with extra simple markup to define
headers and other types of formatting.</p>

<p>A reStructuredText file could look like this:</p>

<pre><code>
Lesson 2: Advanced Concepts
===========================

Open the model from lesson 1 and change the following lines:

.. code-block:: AnyScript

    InverseDynamics.Criterion = {
      Type = §MR_Polynomial§;
    };

Now we have specified polynomial muscle recruitment, which 
comes down to the following objective function:

.. math:: G = \sum_{i} \left( \frac{f_i}{N_i} \right)^p

We have not, however, specified what the power *p* is. In the
absence of a specification, AnyBody assumes *p* = 3, If we 
reload and rerun the model now, we get the following result:

.. figure:: _static/lesson2/chart1.png
   :scale: 50 %
   
   Results with 5 order Polynomial muscle criterion.

</code></pre>

<p>Having the tutorials as plain text, may at first seem like a disadvantage. The
AnyBody tutorials are currently stored as Word documents. But reStructuredText
has many advantages as well.</p>

<ul>
  <li>Better control of formatting and style</li>
  <li>Easier tracking of updates and changes</li>
  <li>Pictures and images live outside the document</li>
  <li>Makes it easier to accept contribution from users</li>
</ul>

<p>Finally, MS Word can still be used when writing new tutorials. The <code>*.docx</code> file
can be converted into reStructured text using the <a href="https://pandoc.org/">Pandoc</a>
document converter. Pandoc can convert tables, any formatting, embedded images
into reStructuredText. Pandoc even converts equations from MS Word into Latex
style formulas which work in reStructuredText files.</p>

<h1 id="hosting-tutorials-on-github">Hosting tutorials on GitHub</h1>

<p>The new source files for tutorials are hosted on the AnyBody Github account togehter with the build HTML files.</p>

<ul>
  <li>
    <p><strong>Source files:</strong> <a href="https://github.com/AnyBody/anybody-tutorial">https://github.com/AnyBody/anybody-tutorial</a></p>
  </li>
  <li>
    <p><strong>Web page:</strong> <a href="https://anyscript.org/tutorials">https://anyscript.org/tutorials/dev</a></p>
  </li>
</ul>

<p>Contributions are always welcome! So if you find typos, missing links or
anything else help us fix it. It is easy. Just fork <a href="https://github.com/AnyBody/anybody-tutorial&gt;">the repository on
GitHub</a>, make the changes, and
issue a pull request.</p>

<p>Every pull request is automatically tested, to ensure that Sphinx builds the
tutorials without errors. This done using <a href="https://en.wikipedia.org/wiki/Travis_CI">Travis
CI</a></p>

<ul>
  <li>See status of the Travis CI build: <a href="https://travis-ci.org/AnyBody/anybody-tutorial"><img src="https://travis-ci.org/AnyBody/anybody-tutorial.svg?branch=master" alt="Build
Status" /></a>.</li>
</ul>

<p>Once a change is accepted and merged into the repository the script also automatically deploys the tutorial web page.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#ammr" class="page__taxonomy-item" rel="tag">AMMR</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#models" class="page__taxonomy-item" rel="tag">Models</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#news" class="page__taxonomy-item" rel="tag">news</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-11-25T00:00:00+01:00">November 25, 2017</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Getting+AnyBody+and+Numpy+to+work%20https%3A%2F%2Fanyscript.org%2Fnews%2FNumpy-and-scipy%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fanyscript.org%2Fnews%2FNumpy-and-scipy%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https%3A%2F%2Fanyscript.org%2Fnews%2FNumpy-and-scipy%2F" class="btn btn--google-plus" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google Plus"><i class="fab fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fanyscript.org%2Fnews%2FNumpy-and-scipy%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/news/freeing-the-anybody-tutorials/" class="pagination--pager" title="Freeing the AnyBody Tutorials
">Previous</a>
    
    
      <a href="/news/ammr-2.0/" class="pagination--pager" title="What is new AMMR 2.0
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="discourse-comments"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/posts/new-forum_teaser.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/news/New-forum-system/" rel="permalink">New AnyScript Forum
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">We have just launched a new forum site for the AnyScript community.
</p>
  </article>
</div>

        
        
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/teaser.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/tools/Solving-Optimization-Problems-Using-Python/" rel="permalink">Solving optimization problems using Python
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">The ability to create and run mathematical optimization problems, using third party software is a valuable tool.
</p>
  </article>
</div>

        
        
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/posts/max-strength_teaser.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/tools/estimating-maximum-model-strength/" rel="permalink">Calculating maximum model strength
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Knowing the maximum strength of a model is valuable information. In this post we show how this can be calculated easily.
</p>
  </article>
</div>

        
        
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/posts/BM_Plugin_teaser.JPG"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/tools/body-model-configurator/" rel="permalink">Body Model Configuration App
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">This introduces a python application to help configure your model.
</p>
  </article>
</div>

        
        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
          <li><a href="https://www.facebook.com/groups/AnyBodyGroup/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
      
        
          <li><a href="https://github.com/anybody" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-gitlab" aria-hidden="true"></i> GitLab</a></li>
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 AnyBody Technology A/S. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-201751-2']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    

<script type="text/javascript">
    DiscourseEmbed = { discourseUrl: '//forum.anyscript.org/',
                       discourseEmbedUrl: 'https://anyscript.org/news/Numpy-and-scipy/' };
   (function () {
     var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
     d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
   })();
</script>
<noscript>Please enable JavaScript to view the comments powered by <a href="https://www.discourse.org/">Discourse.</a></noscript>


  




  </body>
</html>
